@page
@model ABMBovine
@{ ViewData["Title"] = "ABMBovine";
    Layout = "_LayoutMenu";
}
<div class="container" id="app">
    <div class="row text-center">
        <form class="needs-validation" style="border-radius: 10px;" method="post" id="form1" novalidate>
            <div class="offset-lg-2 col- col-lg-8 col-sm-10 borderDiv">
                <div style="background-color:black;">
                    <h3 style="color:white">@Model.title</h3>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-sm-12">
                        <div class="contenedor">
                            <img src="~/Images/Bovine/tag_bovino.png" class="imageIdBovine" alt="Identificador" />
                            <div class="TextCenterImage" hidden="@(Model.edicion == false)"><h4>@Model.tagImage</h4></div>
                        </div>
                        <div><label>Foto</label></div>
                        <img src="~/Images/Bovine/image_bovino.png" class="imageIdBovine" alt="Identificador" />
                    </div>
                    <div class="col-lg-7 col-sm-12">
                        <div class="row">
                            @if (Model.edicion == false)
                            {
                                <div class="col-lg-6 offset-lg-0 col-sm-10 offset-sm-1 col-10 offset-1" readonly="readonly">
                                    <div class="textLeft"><label>Caravana</label></div>
                                    <input class="form-control @(@Model.valid_tag != null ? "is-invalid" : "")" type="text" asp-for="bovine.tag" placeholder="Tag" maxlength="10" required />

                                    <div class="invalid-feedback text-left ">
                                        <span class="glyphicon glyphicon-exclamation-sign"></span>@Model.valid_tag
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-lg-6 offset-lg-0 col-sm-10 offset-sm-1 col-10 offset-1">
                                    <div class="textLeft"><label>Caravana</label></div>
                                    <input class="form-control" type="text" asp-for="bovine.tag" placeholder="Tag" maxlength="10" required readonly />
                                </div>
                            }
                            <div class="col-lg-6 offset-lg-0 col-sm-10 offset-sm-1 col-10 offset-1">
                                <div class="textLeft"><label for="taggingDate" class="form-label">Fecha de caravaneo</label></div>
                                <input class="form-control  @(@Model.valid_date != null ? "is-invalid" : "")" id="taggingDate" type="date" asp-for="bovine.taggingDate" placeholder="Fecha" required />
                                <div class="invalid-feedback text-left">
                                    <span class="glyphicon glyphicon-exclamation-sign"></span> Por favor ingrese la fecha de caravaneo
                                </div>
                            </div>
                            <div class="col-lg-6 offset-lg-0 col-sm-10 offset-sm-1 col-10 offset-1">
                                <div class="textLeft"><label>Sexo</label></div>
                                <select id="sexo" name="bovine.genre" data-val="true" class="form-control invalid-arrow @(@Model.valid_genre != null ? "is-invalid" : "")" required>
                                    <option value="" selected="selected">Seleccionar</option>
                                    <option value="Masculino" selected="@(Model.bovine.genre == "Masculino")">Masculino</option>
                                    <option value="Femenino" selected="@(Model.bovine.genre == "Femenino")">Femenino</option>
                                </select>
                                <div class="invalid-feedback text-left">
                                    <span class="glyphicon glyphicon-exclamation-sign"></span> Debe seleccionar el sexo del bovino
                                </div>
                            </div>
                            <div class="col-lg-12 offset-lg-0 col-sm-10 offset-sm-1 col-10 offset-1">
                                <div class="textLeft"><label>Descripción</label></div>
                                <textarea class="form-control" type="text" asp-for="bovine.description" placeholder="Descripcion" required maxlength="300" rows="4"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 space"></div>
                    <div class="col-lg-11 col-sm-11 col-10 alert alert-danger alert-dismissible fade show alingMessage" role="alert" hidden="@(Model.valid == null)">
                        @Model.valid <br />
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="col-lg-11 col-sm-11 col-10 alert alert-success alert-dismissible fade show alingMessage" role="alert" hidden="@(Model.succes == null)">
                        @Model.succes <br />
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="col-12 marginBotons" style="">
                        <div class="row">
                            <div class="col-lg-2 offset-lg-6 col-sm-4 col-4">
                                <div hidden="@(Model.edicion == false || Model.bovine.tag == null)">
                                    <form method="post">
                                        <button class="btn btn-danger" type="submit" asp-page-handler="delete">
                                            Eliminar
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="col-lg-2 col-sm-4 col-4">
                                <button type="button" class="btn btn-dark" data-toggle="modal" data-target=".cancel-modal">Cancelar</button>
                            </div>
                            <div class="col-lg-2 col-sm-4 col-4">
                                @*<button type="submit" class="btn btn-info">Guardar</button>*@
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target=".sabe-modal">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </form>
    </div>
    <div class="modal fade cancel-modal" tabindex="-1" role="dialog" aria-labelledby="CancelModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p>¿Está seguro que desea cancelar la acción en curso? Se cerrará la ventana y se perderán todos los cambios.</p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick='inicio()'> Si </button>
                    <button type="button" class="btn btn-dark" data-dismiss="modal"> No </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade sabe-modal" tabindex="-1" role="dialog" aria-labelledby="SabeModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p>¿Confirma que desea registrar los datos del bovino?</p>

                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-info" form="form1" value="Submit"> Si </button>
                    <button type="button" class="btn btn-dark" data-dismiss="modal"> No </button>
                </div>
            </div>
        </div>
    </div>
    @*<div class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Modal body text goes here.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">Save changes</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>*@
</div>
<script>
    function Guardar(){
        $('#myModal').modal('show')
    };
    function inicio() {
        window.location.href = "/Principal"
    };
</script>
